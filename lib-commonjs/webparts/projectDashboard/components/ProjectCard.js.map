{"version":3,"file":"ProjectCard.js","sourceRoot":"","sources":["../../../../src/webparts/projectDashboard/components/ProjectCard.tsx"],"names":[],"mappings":"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","sourcesContent":["import * as React from 'react';\r\nimport { IProject } from '../models/types';\r\n\r\nconst statusColors: Record<string, string> = {\r\n  Planning: '#777', Active: '#0078d4', Completed: '#107c10', Cancelled: '#c50f1f',\r\n};\r\n\r\nconst priorityColors: Record<string, { bg: string; color: string }> = {\r\n  Low: { bg: '#e7f3ff', color: '#004578' },\r\n  Medium: { bg: '#fff4ce', color: '#8a5500' },\r\n  High: { bg: '#fde7e9', color: '#a4262c' },\r\n  Critical: { bg: '#f8d7da', color: '#8a0f14' },\r\n};\r\n\r\nexport const ProjectCard: React.FC<{ project: IProject }> = ({ project }) => {\r\n  const hasBlocked = project.blockedTasks > 0;\r\n  const isActiveLowProgress = project.status === 'Active' && project.progressPct < 50;\r\n  const isHighProgress = project.progressPct >= 80;\r\n\r\n  const indicators: { label: string; color: string }[] = [];\r\n  if (hasBlocked) indicators.push({ label: 'Tareas bloqueadas', color: '#c50f1f' });\r\n  if (isActiveLowProgress) indicators.push({ label: 'Activo < 50%', color: '#d83b01' });\r\n  if (isHighProgress) indicators.push({ label: '≥ 80% completado', color: '#107c10' });\r\n\r\n  const pr = priorityColors[project.priority ?? 'Low'];\r\n\r\n  return (\r\n    <div style={{ border: '1px solid #e1e1e1', borderRadius: 8, padding: 12, background: '#fff', display: 'flex', flexDirection: 'column', gap: 8 }}>\r\n      <div style={{ display: 'flex', justifyContent: 'space-between' }}>\r\n        <div>\r\n          <div style={{ fontSize: 16, fontWeight: 700 }}>{project.name}</div>\r\n          <div style={{ fontSize: 12, color: '#666' }}>{project.code}</div>\r\n        </div>\r\n        <div style={{ display: 'flex', gap: 8 }}>\r\n          <span style={{ padding: '2px 6px', borderRadius: 4, fontSize: 12, color: '#fff', background: statusColors[project.status] }}>{project.status}</span>\r\n          {project.priority && (\r\n            <span style={{ padding: '2px 6px', borderRadius: 4, fontSize: 12, background: pr.bg, color: pr.color }}>{project.priority}</span>\r\n          )}\r\n        </div>\r\n      </div>\r\n\r\n      <div style={{ display: 'flex', gap: 16, flexWrap: 'wrap' }}>\r\n        <div><strong>Gerente:</strong> {project.manager?.displayName ?? '—'}</div>\r\n        <div><strong>Presupuesto:</strong> {project.budget?.toLocaleString() ?? '—'}</div>\r\n        <div><strong>Tareas:</strong> {project.totalTasks}</div>\r\n        <div><strong>Completadas:</strong> {project.completedTasks}</div>\r\n        <div><strong>Bloqueadas:</strong> {project.blockedTasks}</div>\r\n      </div>\r\n\r\n      <div>\r\n        <div style={{ display: 'flex', justifyContent: 'space-between', fontSize: 12 }}>\r\n          <span>Progreso</span><span>{project.progressPct}%</span>\r\n        </div>\r\n        <div style={{ height: 8, borderRadius: 6, background: '#eee', overflow: 'hidden' }} aria-label={`Progreso ${project.progressPct}%`}>\r\n          <div\r\n            style={{\r\n              width: `${project.progressPct}%`,\r\n              height: '100%',\r\n              background: project.progressPct >= 80 ? '#107c10' : project.progressPct >= 25 ? '#ffaa44' : '#c50f1f',\r\n              transition: 'width 0.3s ease',\r\n            }}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {indicators.length > 0 && (\r\n        <div style={{ display: 'flex', gap: 8, flexWrap: 'wrap' }}>\r\n          {indicators.map((i, idx) => (\r\n            <span key={idx} style={{ padding: '2px 6px', borderRadius: 4, fontSize: 12, color: '#fff', background: i.color }}>{i.label}</span>\r\n          ))}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};"]}